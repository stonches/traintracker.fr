(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{2138:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},4516:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6316:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var s=r(5155),a=r(2115),l=r(7924),i=r(6932),n=r(9946);let o=(0,n.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),d=(0,n.A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var c=r(2138),u=r(4516);function g(e){let{locale:t}=e,[r,n]=(0,a.useState)([]),[g,h]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[p,y]=(0,a.useState)("grid"),[b,f]=(0,a.useState)(!0),[v,N]=(0,a.useState)(1);(0,a.useEffect)(()=>{(async()=>{try{f(!0);let e=await fetch("/api/stations/all"),t=await e.json();t.success?n(t.data):n([{id:"stop_area:SNCF:87271007",nom:"Paris Gare du Nord",slug:"paris-gare-du-nord",coordonnees:{latitude:48.8803,longitude:2.3554},region:"\xcele-de-France"},{id:"stop_area:SNCF:87686006",nom:"Paris Gare de Lyon",slug:"paris-gare-de-lyon",coordonnees:{latitude:48.8437,longitude:2.3737},region:"\xcele-de-France"},{id:"stop_area:SNCF:87723197",nom:"Lyon Part-Dieu",slug:"lyon-part-dieu",coordonnees:{latitude:45.7606,longitude:4.86},region:"Auvergne-Rh\xf4ne-Alpes"},{id:"stop_area:SNCF:87751008",nom:"Marseille Saint-Charles",slug:"marseille-saint-charles",coordonnees:{latitude:43.3037,longitude:5.3808},region:"Provence-Alpes-C\xf4te d'Azur"},{id:"stop_area:SNCF:87286005",nom:"Lille Europe",slug:"lille-europe",coordonnees:{latitude:50.6389,longitude:3.0755},region:"Hauts-de-France"},{id:"stop_area:SNCF:87581009",nom:"Bordeaux Saint-Jean",slug:"bordeaux-saint-jean",coordonnees:{latitude:44.8258,longitude:-.5568},region:"Nouvelle-Aquitaine"},{id:"stop_area:SNCF:87611004",nom:"Toulouse Matabiau",slug:"toulouse-matabiau",coordonnees:{latitude:43.6108,longitude:1.4537},region:"Occitanie"},{id:"stop_area:SNCF:87212027",nom:"Strasbourg",slug:"strasbourg",coordonnees:{latitude:48.5847,longitude:7.7347},region:"Grand Est"},{id:"stop_area:SNCF:87481002",nom:"Nantes",slug:"nantes",coordonnees:{latitude:47.2173,longitude:-1.5424},region:"Pays de la Loire"},{id:"stop_area:SNCF:87471003",nom:"Rennes",slug:"rennes",coordonnees:{latitude:48.1033,longitude:-1.6721},region:"Bretagne"},{id:"stop_area:SNCF:87756056",nom:"Nice Ville",slug:"nice-ville",coordonnees:{latitude:43.7036,longitude:7.2619},region:"Provence-Alpes-C\xf4te d'Azur"},{id:"stop_area:SNCF:87773002",nom:"Montpellier Saint-Roch",slug:"montpellier-saint-roch",coordonnees:{latitude:43.6052,longitude:3.8808},region:"Occitanie"}])}catch(e){console.error("Error fetching stations:",e)}finally{f(!1)}})()},[]);let j=(0,a.useMemo)(()=>[...new Set(r.map(e=>e.region).filter(Boolean))].sort(),[r]),w=(0,a.useMemo)(()=>r.filter(e=>{var t;let r=!g||e.nom.toLowerCase().includes(g.toLowerCase())||(null==(t=e.region)?void 0:t.toLowerCase().includes(g.toLowerCase())),s=!m||e.region===m;return r&&s}).sort((e,t)=>e.nom.localeCompare(t.nom)),[r,g,m]),k=(0,a.useMemo)(()=>{let e=(v-1)*24;return w.slice(e,e+24)},[w,v]),A=Math.ceil(w.length/24),C=e=>{let r="fr"===t?"/gare/".concat(e.slug):"/en/station/".concat(e.slug);window.location.href=r};return b?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 animate-pulse",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)("div",{className:"md:col-span-2 h-12 bg-gray-200 rounded"}),(0,s.jsx)("div",{className:"h-12 bg-gray-200 rounded"})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(12)].map((e,t)=>(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 animate-pulse",children:(0,s.jsx)("div",{className:"h-20 bg-gray-200 rounded"})},t))})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"fr"===t?"Rechercher":"Search"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(l.A,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{type:"text",value:g,onChange:e=>h(e.target.value),placeholder:"fr"===t?"Nom de gare ou r\xe9gion...":"Station name or region...",className:"block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"fr"===t?"R\xe9gion":"Region"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(i.A,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"fr"===t?"Toutes":"All"}),j.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"fr"===t?"Affichage":"View"}),(0,s.jsxs)("div",{className:"flex border border-gray-300 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>y("grid"),className:"flex items-center justify-center px-4 py-3 rounded-l-lg transition-colors ".concat("grid"===p?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"),children:(0,s.jsx)(o,{className:"h-5 w-5"})}),(0,s.jsx)("button",{onClick:()=>y("list"),className:"flex items-center justify-center px-4 py-3 rounded-r-lg transition-colors ".concat("list"===p?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"),children:(0,s.jsx)(d,{className:"h-5 w-5"})})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[(0,s.jsx)("div",{children:"fr"===t?"".concat(w.length," gare").concat(1!==w.length?"s":""," trouv\xe9e").concat(1!==w.length?"s":""):"".concat(w.length," station").concat(1!==w.length?"s":""," found")}),A>1&&(0,s.jsxs)("div",{children:["Page"," ",v," ","fr"===t?"sur":"of"," ",A]})]})]}),"grid"===p?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(e=>(0,s.jsxs)("button",{onClick:()=>C(e),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 text-left group",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"text-2xl",children:"\uD83D\uDE89"}),(0,s.jsx)(c.A,{className:"h-5 w-5 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),(0,s.jsx)("h3",{className:"font-semibold text-lg text-gray-900 mb-2 group-hover:text-blue-900 transition-colors",children:e.nom}),e.region&&(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-1"}),e.region]})]},e.id))}):(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md",children:k.map((e,t)=>(0,s.jsxs)("button",{onClick:()=>C(e),className:"w-full text-left p-4 hover:bg-gray-50 transition-colors flex items-center justify-between ".concat(t!==k.length-1?"border-b border-gray-200":""),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"text-xl",children:"\uD83D\uDE89"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:e.nom}),e.region&&(0,s.jsxs)("div",{className:"text-sm text-gray-600 flex items-center",children:[(0,s.jsx)(u.A,{className:"h-3 w-3 mr-1"}),e.region]})]})]}),(0,s.jsx)(c.A,{className:"h-5 w-5 text-gray-400"})]},e.id))}),A>1&&(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>N(Math.max(1,v-1)),disabled:1===v,className:"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"fr"===t?"Pr\xe9c\xe9dent":"Previous"}),[...Array(Math.min(5,A))].map((e,t)=>{let r=Math.max(1,Math.min(A-4,v-2))+t;return(0,s.jsx)("button",{onClick:()=>N(r),className:"px-4 py-2 text-sm font-medium rounded-md ".concat(v===r?"text-white bg-blue-600":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"),children:r},r)}),(0,s.jsx)("button",{onClick:()=>N(Math.min(A,v+1)),disabled:v===A,className:"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"fr"===t?"Suivant":"Next"})]}),0===w.length&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,s.jsx)(l.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"fr"===t?"Aucune gare trouv\xe9e":"No stations found"}),(0,s.jsx)("p",{className:"text-gray-600",children:"fr"===t?"Essayez de modifier votre recherche ou de changer le filtre de r\xe9gion.":"Try modifying your search or changing the region filter."})]})]})}},6347:(e,t,r)=>{Promise.resolve().then(r.bind(r,6316))},6932:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},7924:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var s=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:u,iconNode:g,...h}=e;return(0,s.createElement)("svg",{ref:t,...d,width:a,height:a,stroke:r,strokeWidth:i?24*Number(l)/Number(a):l,className:n("lucide",c),...!u&&!o(h)&&{"aria-hidden":"true"},...h},[...g.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:o,...d}=r;return(0,s.createElement)(c,{ref:l,iconNode:t,className:n("lucide-".concat(a(i(e))),"lucide-".concat(e),o),...d})});return r.displayName=i(e),r}}}]);