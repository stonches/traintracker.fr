(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{1e3:(e,r,s)=>{Promise.resolve().then(s.bind(s,4895))},2138:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},4186:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},4516:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4895:(e,r,s)=>{"use strict";s.d(r,{default:()=>c});var t=s(5155),a=s(2115),l=s(7924),o=s(6932),n=s(2138),i=s(4516),d=s(4186);function c(e){let{locale:r}=e,[s,c]=(0,a.useState)([]),[u,g]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[x,p]=(0,a.useState)(!0),[f,y]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{p(!0);let e=await fetch("/api/stations/all"),s=await e.json();s.success?c(s.data):y("fr"===r?"Erreur lors du chargement des gares":"Error loading stations")}catch(e){y("fr"===r?"Erreur de connexion":"Connection error"),c([{id:"stop_area:SNCF:87271007",nom:"Paris Gare du Nord",slug:"paris-gare-du-nord",coordonnees:{latitude:48.8803,longitude:2.3554},region:"\xcele-de-France"},{id:"stop_area:SNCF:87686006",nom:"Paris Gare de Lyon",slug:"paris-gare-de-lyon",coordonnees:{latitude:48.8437,longitude:2.3737},region:"\xcele-de-France"},{id:"stop_area:SNCF:87723197",nom:"Lyon Part-Dieu",slug:"lyon-part-dieu",coordonnees:{latitude:45.7606,longitude:4.86},region:"Auvergne-Rh\xf4ne-Alpes"},{id:"stop_area:SNCF:87751008",nom:"Marseille Saint-Charles",slug:"marseille-saint-charles",coordonnees:{latitude:43.3037,longitude:5.3808},region:"Provence-Alpes-C\xf4te d'Azur"},{id:"stop_area:SNCF:87286005",nom:"Lille Europe",slug:"lille-europe",coordonnees:{latitude:50.6389,longitude:3.0755},region:"Hauts-de-France"}])}finally{p(!1)}})()},[r]);let v=(0,a.useMemo)(()=>[...new Set(s.map(e=>e.region).filter(Boolean))].sort(),[s]),N=(0,a.useMemo)(()=>s.filter(e=>{var r;let s=!u||e.nom.toLowerCase().includes(u.toLowerCase())||(null==(r=e.region)?void 0:r.toLowerCase().includes(u.toLowerCase())),t=!h||e.region===h;return s&&t}),[s,u,h]),j=e=>{let s="fr"===r?"/gare/".concat(e.slug):"/en/station/".concat(e.slug);window.location.href=s};return x?(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-8",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-12 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"h-10 bg-gray-200 rounded w-1/3"}),(0,t.jsx)("div",{className:"space-y-3",children:[...Array(8)].map((e,r)=>(0,t.jsx)("div",{className:"h-20 bg-gray-200 rounded"},r))})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(l.A,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{type:"text",value:u,onChange:e=>g(e.target.value),placeholder:"fr"===r?"Recherchez une gare par nom ou r\xe9gion...":"Search for a station by name or region...",className:"block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(o.A,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsxs)("select",{value:h,onChange:e=>m(e.target.value),className:"block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"fr"===r?"Toutes les r\xe9gions":"All regions"}),v.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})})]}),(0,t.jsx)("div",{className:"mt-4 text-sm text-gray-600",children:"fr"===r?"".concat(N.length," gare").concat(1!==N.length?"s":""," trouv\xe9e").concat(1!==N.length?"s":""):"".concat(N.length," station").concat(1!==N.length?"s":""," found")})]}),f&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsx)("div",{className:"text-red-600 text-sm",children:f})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(e=>(0,t.jsxs)("button",{onClick:()=>j(e),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 text-left group",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"text-2xl",children:"\uD83D\uDE89"}),(0,t.jsx)(n.A,{className:"h-5 w-5 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),(0,t.jsx)("h3",{className:"font-semibold text-lg text-gray-900 mb-2 group-hover:text-blue-900 transition-colors",children:e.nom}),e.region&&(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[(0,t.jsx)(i.A,{className:"h-4 w-4 mr-1"}),e.region]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"fr"===r?"Horaires en temps r\xe9el":"Real-time schedules"]})]},e.id))}),0===N.length&&!x&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,t.jsx)(l.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"fr"===r?"Aucune gare trouv\xe9e":"No stations found"}),(0,t.jsx)("p",{className:"text-gray-600",children:"fr"===r?"Essayez de modifier votre recherche ou de changer le filtre de r\xe9gion.":"Try modifying your search or changing the region filter."})]}),""===u&&""===h&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"fr"===r?"Recherches populaires":"Popular searches"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["Paris","Lyon","Marseille","Lille","Toulouse","Bordeaux","Nantes","Strasbourg"].map(e=>(0,t.jsx)("button",{onClick:()=>g(e),className:"text-left px-4 py-2 bg-gray-100 hover:bg-blue-50 rounded-lg transition-colors",children:(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e})},e))})]})]})}},6932:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},7924:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9946:(e,r,s)=>{"use strict";s.d(r,{A:()=>u});var t=s(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),o=e=>{let r=l(e);return r.charAt(0).toUpperCase()+r.slice(1)},n=function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return r.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim()},i=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,t.forwardRef)((e,r)=>{let{color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:g,...h}=e;return(0,t.createElement)("svg",{ref:r,...d,width:a,height:a,stroke:s,strokeWidth:o?24*Number(l)/Number(a):l,className:n("lucide",c),...!u&&!i(h)&&{"aria-hidden":"true"},...h},[...g.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...Array.isArray(u)?u:[u]])}),u=(e,r)=>{let s=(0,t.forwardRef)((s,l)=>{let{className:i,...d}=s;return(0,t.createElement)(c,{ref:l,iconNode:r,className:n("lucide-".concat(a(o(e))),"lucide-".concat(e),i),...d})});return s.displayName=o(e),s}}}]);